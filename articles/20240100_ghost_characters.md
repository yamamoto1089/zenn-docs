---
title: "幽霊文字について調べた"
emoji: "👻"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["幽霊文字", "unicode", "文字コード"]
published: false
---

# 幽霊文字とは

幽霊文字とは、辞書に掲載されていないにも関わらず、文字コード上に存在する漢字のことを指します。これらの文字は、存在しないはずのものなのに、なぜか文字コードに含まれているため「幽霊」と呼ばれています。代表的な例として「妛」や「彁」が挙げられます。

こういうやつね。  
![](https://storage.googleapis.com/zenn-user-upload/69c796d10a5c-20240104.png)

# なぜ幽霊文字が存在するか

幽霊文字が存在する主な理由は、文字コードの作成過程でのヒューマンエラーです。文字データベースの作成時に、誤って非実在の文字が含まれてしまったり、誤植や誤解が原因で実在しない文字が採用されることがあります。これらが後に「幽霊文字」として知られるようになりました。

例えば、「妛」の文字が登録された経緯は、「山」と「女」を縦に合体させた文字が、見間違えで間に「一」が混じった「妛」という文字として登録されたことによるものです。
https://sp.volkswagen.co.jp/LINE/page1/

# 幽霊文字が修正がされない理由

幽霊文字が修正されない理由の 1 つは、既存のシステムやデータベースとの互換性です。一度文字コードに含まれると、そのコードを使用しているシステムやデータが多数存在するため、単純に削除することが困難になります。また、これらの文字が歴史的な文書や古文書に使われている可能性もあり、その意味でも保存する価値があるとされています。

## 森鴎外問題

日本の文字コードは、その歴史の中で幾度もの改正が行われてきました。これらの改正は、技術的な発展と共に必要とされたものですが、同時に多くの混乱をもたらしました。その中でも特に有名なのが、森鴎外問題です。
特に注目されるのが、1983 年の JIS X 0208 の改正によって生じた「森鴎外問題」です。この改正で、多くの漢字字体が変更され、その中には「鷗」という漢字も含まれていました。この字は、日本の文豪「森鴎外」の名前に使われていた漢字です。
83JIS の改正では、「鷗」の字体が「鴎」に変更されました。このため、森鴎外の名前をコンピュータで表示しようとすると、改正前の「鷗」ではなく、改正後の「鴎」が使用されるようになりました。これは、歴史的な文献や名前に使われている漢字が文字コードの改正によって変わるという、大きな問題を示しています。
この字体の変更は、文学作品や歴史的な文書における正確な表記の重要性を考えると、深刻な問題です。特に、JIS X 0208 のような広範囲に使用される文字コードの改正は、予期せぬ混乱を引き起こす可能性があります。

# 所感

規格の制定の過程で生じた小さなミスが、時間を経て大きな負債として残り続け、修正が難しい状況になるのは興味深いです。実際に、プロジェクトを運用する上で定めたルールや基準が、後の開発において障害となることはよくあります。幽霊文字の存在は、技術的な誤りだけでなく、それが長期にわたってどのように影響を及ぼすかを考えさせられます。

# 参考

https://ja.wikipedia.org/wiki/%E5%B9%BD%E9%9C%8A%E6%96%87%E5%AD%97  
https://www.ogis-ri.co.jp/otc/hiroba/technical/program_standards/part1.html  
https://www.asahi-net.or.jp/~ax2s-kmtn/ref/jis78-83.html  
https://www.pahoo.org/e-soul/webtech/encode/encode10-01.shtm
http://shimax.cocolog-nifty.com/search/2006/11/ie7_ee15.html
