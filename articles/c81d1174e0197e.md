---
title: "Githubé€£æºã•ã‚ŒãŸZennã®è¨˜äº‹ã‚’textlintã§è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã™ã‚‹"
emoji: "ğŸ‘"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

# ã¯ã˜ã‚ã«

Zennã®è¨˜äº‹ã‚’å…¬é–‹ã™ã‚‹éš›ã«ã€èª¤å­—ã‚„è„±å­—ã€é©åˆ‡ãªæ—¥æœ¬èªã‚’ä½¿ãˆã¦ã„ã‚‹ã‹ã€è¨˜äº‹ã‚’è¦‹ç›´ã—ã¦æ ¡æ­£ä½œæ¥­ã‚’è¡Œã†ã®ã¯é¢å€’ã§ã™ã€‚  
è‡ªåˆ†ã§è¨˜è¿°ã—ãŸæ–‡ç« ã®æ ¡æ­£ä½œæ¥­ã¯é–“é•ã„ã«æ°—ã¥ãã«ããã€æ–‡ç« é‡ã«æ¯”ä¾‹ã—ã¦ä½œæ¥­æ™‚é–“ã‚‚å¢—ãˆã¦ã„ãã¾ã™ã€‚

ãã“ã§ã€Githubé€£æºã•ã‚ŒãŸZennã®è¨˜äº‹ã‚’GithubActionsã‚’åˆ©ç”¨ã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã®åº¦ã«æ–‡ç« æ§‹æˆã‚’è¡Œã†æ–¹æ³•ã‚’å…±æœ‰ã—ã¾ã™ã€‚ã€€ã€€

# å‰æ

GithubActionsã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€Zennã®è¨˜äº‹ã‚’Githubé€£æºã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
Githubé€£æºã™ã‚‹æ–¹æ³•ã¯Zennã®å…¬å¼ãŒè¨˜äº‹ã«èµ·ã“ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã—ã¾ã™ã€‚  
https://zenn.dev/zenn/articles/connect-to-github  

åŒæ§˜ã«Zenn CLIã‚‚å°å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
å°å…¥ã™ã‚‹ã“ã¨ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ã§è¨˜äº‹ã®ä½œæˆãƒ»ç·¨é›†ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚  
ã“ã¡ã‚‰ã‚‚Zennå…¬å¼ã‹ã‚‰è¨˜äº‹ãŒå‡ºã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¾ã—ã‚‡ã†ã€‚  
https://zenn.dev/zenn/articles/install-zenn-cli

# ä»Šå›ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨

ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªæ–‡ç« ã‚’ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¸ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸå ´åˆã«
```
Zennã®è¨˜äº‹ã§GithubActionsã§é€£æºã—ã¦textlintã—ã¦ã¿ãŸ
```
ä»¥ä¸‹ã®ã‚ˆã†ã«GithubActionsã§æ–‡ç« æ ¡æ­£ã‚’ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
```shell
   10:22   error    ä¸€æ–‡ã«äºŒå›ä»¥ä¸Šåˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹åŠ©è© "ã§" ãŒã¿ã¤ã‹ã‚Šã¾ã—ãŸã€‚
```

# æ‰‹é †

* Zennã‚’Githubã«é€£æºã™ã‚‹ï¼ˆçœç•¥ï¼‰
* Zenn CLIã‚’å°å…¥ã™ã‚‹ï¼ˆçœç•¥ï¼‰
* textlintã®å°å…¥
  * textlintã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  * textlintã®ãƒ«ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  * textlintrcã§ãƒ«ãƒ¼ãƒ«ã®è©³ç´°è¨­å®š
* package.jsonã®è¨­å®š
  * yarn textlint
* GithubActionsã®å°å…¥
  * ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­å®š
# textlintã®å°å…¥

:::details textlintã¨ã¯ï¼Ÿ
[textlint](https://textlint.github.io/)ã¨ã¯åå‰ã®é€šã‚Šã€ãƒ†ã‚­ã‚¹ãƒˆã«å¯¾ã—ã¦lintã‚’èµ°ã‚‰ã›ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
æ ¡æ­£ãƒ«ãƒ¼ãƒ«ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€é–“é•ã£ãŸæ—¥æœ¬èªã‚„å†—é•·çš„ãªæ–‡ç« ã‚’æŒ‡æ‘˜ã—ã¦ãã‚Œã¾ã™ã€‚  
:::

## textlintã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã¯textlintã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  
å…¬å¼ã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€devDependenciesã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```shell
yarn add -D textlint
```

## textlintã®ãƒ«ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

textlintã§ã¯æ–‡ç« æ ¡æ­£ã®ãƒ«ãƒ¼ãƒ«ã‚’åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
æ§˜ã€…ãªãƒ«ãƒ¼ãƒ«ãŒ[ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚º](https://github.com/textlint/textlint/wiki/Collection-of-textlint-rule)ã«ã¾ã¨ã¾ã£ã¦ã„ã‚‹ãŸã‚ã€ç”¨é€”ã«ã‚ˆã£ã¦å¿…è¦ãªãƒ«ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚ã€€ã€€  
ä»Šå›ã¯3ã¤ã®ãƒ«ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  

```shell
yarn add -D textlint-rule-preset-ja-technical-writing
yarn add -D textlint-filter-rule-comments
yarn add -D textlint-rule-preset-ja-spacing
```

### [textlint-rule-preset-ja-technical-writing](https://github.com/textlint-ja/textlint-rule-preset-ja-technical-writing)
`textlint-rule-preset-ja-technical-writing`ã¯æŠ€è¡“æ–‡æ›¸å‘ã‘ã®ãƒ«ãƒ¼ãƒ«ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚

### [textlint-filter-rule-comments](https://github.com/textlint/textlint-filter-rule-comments)
`textlint-filter-rule-comments`ã¯`textlint-rule-preset-ja-technical-writing`ã¨ä½µã›ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã•ã‚Œã¦ã„ã‚‹filter(ä¾‹å¤–ã‚’æ˜ç¤ºã§ãã‚‹)ãƒ«ãƒ¼ãƒ«ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚Zennã®è¨˜äº‹ã§ã¯textlintã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ä¾‹å¤–çš„ãªæ–‡ç« ã‚’æ›¸ãã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚filterè¨­å®šã‚’ã™ã‚‹ã“ã¨ã§æ˜ç¤ºçš„ã«textlintã‚’ç„¡è¦–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### [textlint-rule-preset-ja-spacing](https://github.com/textlint-ja/textlint-rule-preset-ja-spacing)
`textlint-rule-preset-ja-spacingã¯ã€ŒåŠè§’æ–‡å­—ã¨å…¨è§’æ–‡å­—ã®é–“ã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’å…¥ã‚Œã‚‹ã‹ã€ã‚„ã€Œã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ã®å‘¨ã‚Šã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’å…¥ã‚Œã‚‹ã‹ã€ã¨ã„ã£ãŸã‚¹ãƒšãƒ¼ã‚¹ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚

## textlintrcã§ãƒ«ãƒ¼ãƒ«ã®è©³ç´°è¨­å®š
[.textlintrc](https://github.com/textlint/textlint#textlintrc)ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ«ãƒ¼ãƒ«ã®è©³ç´°ãªæœ‰åŠ¹ç„¡åŠ¹è¨­å®šãŒã§ãã¾ã™ã€‚  
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«`.textlintrc`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ä»¥ä¸‹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã€€ã€€

```yml: .textlintrc
filters:
  comments: true
rules:
  preset-ja-technical-writing:
    no-exclamation-question-mark: false
    max-kanji-continuous-len: false
  preset-ja-spacing:
    ja-space-around-code:
      before: true
      after: true
```

# package.jsonã®è¨­å®š
ãƒ­ãƒ¼ã‚«ãƒ«ã§textlintã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã€`package.json`ã®scriptã«ä»¥ä¸‹ã®è¨˜è¿°ã‚’è¿½åŠ ã—ã¾ã™ã€‚  
articlesã¨booksé…ä¸‹ã®mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã«textlintã‚’å®Ÿè¡Œã—ã¾ã™ã€‚  

```json: package.json
  "scripts": {
    "textlint": "textlint \"./{articles,books}/*.md\""
  }
```

ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã§textlintã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
```shell
yarn textlint
```

å®Ÿè¡Œçµæœã®ä¾‹
![](https://storage.googleapis.com/zenn-user-upload/a319175206eb-20220401.png)

# GithubActionsã®å°å…¥

:::details GithubActionsã¨ã¯ï¼Ÿ
[GithubActions](https://docs.github.com/ja/actions)ã¯ã€GitHubãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’èµ·å‹•ã§ãã¾ã™ã€‚  GitHubãŒå…¬å¼ã«æä¾›ã—ã¦ã„ã‚‹CI/CDãƒ„ãƒ¼ãƒ«ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨˜è¿°æ¬¡ç¬¬ã§ã¯æ§˜ã€…ãªã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚  
:::

GithubActionsã®è¨­å®šã‚’è¡Œã„ãƒ—ãƒƒã‚·ãƒ¥ã®ãŸã³ã«textlintã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚  
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«`.github/workflows/textlint.yml`ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

```yml: .github/workflows/textlint.yml
name: textlint
on: push
jobs:
  build:
    name: check textlint
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: 14.x
      - run: yarn install
      - name: Check Textlint
        run: yarn run textlint

```

ä»¥ä¸Šã®è¨­å®šã‚’è¡Œã†ã¨ã€ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§`yarn textlint`ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
æ ¡æ­£å¯¾è±¡ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯articles,booksé…ä¸‹ã®mdãƒ•ã‚¡ã‚¤ãƒ«ãŒè©²å½“ã—ã€å®Ÿè¡Œçµæœã¯Githubã®Actionsã‚¿ãƒ–ã§ç¢ºèªã§ãã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/e4e7b2d84a9a-20220401.png)


textlintã®ActionsãŒå¤±æ•—ã—ã¦ã„ã‚‹å ´åˆã€Actionsã®è©³ç´°ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’è¦‹ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚  

![](https://storage.googleapis.com/zenn-user-upload/e24589c1f739-20220401.png)

# çµ‚ã‚ã‚Šã«

ä»Šå›ã¯æ–‡ç« æ ¡æ­£ãƒã‚§ãƒƒã‚¯ã¾ã§ã‚’GithubActionsã§è‡ªå‹•åŒ–ã—ã¾ã—ãŸã€‚  
textlintã‚’ä½¿ã†ã“ã¨ã§çµ±ä¸€æ€§ã®ã‚ã‚‹æŠ€è¡“çš„ãªæ–‡ç« ã«ãªã‚‹ä¸€æ–¹ã§ã€Zennã®è¨˜äº‹ã¨ã—ã¦ã¯èª­ã¿ã«ãã„ã‚‚ã®ã«ãªã‚‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚  
æœ€é©ãªãƒ«ãƒ¼ãƒ«ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é¸å®šã™ã‚‹ã“ã¨ã‚„ã€textlintã®ãƒ«ãƒ¼ãƒ«ã‚’ã©ã‚Œã ã‘ç·©ã‚ã‚‹ã‹ã®è¦‹æ¥µã‚ãŒé‡è¦ã«ãªã‚Šãã†ã§ã™ã€‚
